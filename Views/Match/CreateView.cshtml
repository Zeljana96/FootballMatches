@model Task5.Models.TeamPlayer
@{
    ViewData["Title"] = "Create";
}

<br /> <br />
<div class="container">
    <div class="row align-items-start">
        <div class="col">
            @if (ViewBag.TeamName != null)
            {
                @Html.DropDownListFor(m => m.TeamId, ViewBag.TeamName as SelectList, "Select Guest",new {
            @class="form-control"})

            }
                @Html.DropDownListFor(m => m.PlayerId, new SelectList(" "), "---Select Players----", new {
            @class="form-control"})
            </div>
            <div class="col">
                <label>Place</label>
                <input class="form-control" />
            </div>
            <div class="col">
                @if (ViewBag.TeamName != null)
            {
                @Html.DropDownListFor(m => m.TeamId, ViewBag.TeamName as SelectList, "Select Host",new {
            @class="form-control"})

            }
                @Html.DropDownListFor(m => m.PlayerId, new SelectList(" "), "---Select Players----", new {
            @class="form-control"})
            </div>
        </div>
    </div>

    <br /> <br />
    <div class="container">
        <div class="row align-items-start">
            <div class="col-4">
                <label class="form-label" for="form4">Select a date</label>
                <input type="date" class="form-control" id="form4" />
            </div>
            <div class="col-4">
                <label class="form-label" for="form5">Select a time</label>
                <input type="time" class="form-control" id="form5" />
            </div>
        </div>
    </div>
    <br /> <br />
    <div class="form-group row">
        <div class="col-8 offset-4 row">
            <div class="col">
                <button type="submit" class="btn btn-primary form-control">Add</button>
            </div>
            <div class="col">
                <a asp-controller="Match" asp-action="Index" class="btn btn-success w-100">Back</a>
            </div>
        </div>
        <div class="col-8">

        </div>
    </div>
    <script src="~/lib/jquery/dist/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#TeamId").change(function () {
                var teamId = $(this).val()
                debugger

                $.ajax({
                    type: "Post",
                    url: "/Match/GetTeamPlayers?TeamId=" + teamId,
                    contentType: "html",
                    success: function (response) {
                        debugger
                        $("#PlayerId").empty();
                        $("#PlayerId").append(response);
                    }
                })
            })
        })
    </script>