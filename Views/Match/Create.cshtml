@model Task5.Models.TeamPlayer
@{
    ViewData["Title"] = "Create";
}

<br /> <br />
<div class="col-md-9">
    @if(ViewBag.TeamName != null)
    {
        @Html.DropDownListFor(m => m.TeamId, ViewBag.TeamName as SelectList, "Select Guest",new { @class="form-control"})
    }
        @Html.DropDownListFor(m => m.PlayerId, new SelectList(" "), "---Select Players----", new { @class="form-control"})
</div>
<script src="~/lib/jquery/dist/jquery-3.5.1.min.js" type="text/javascript"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery/dist/jquery.js"></script>
<script type="text/javascript">
    $(document).ready(function()
    {
        $("#TeamId").change(function()
        {
            var teamId = $(this).val()
            debugger

            $.ajax({
                type: "Post",
                url: "/Match/GetTeamPlayers?TeamId=" + teamId,
                contentType:"html",
                success: function(response)
                { debugger
                    $("#PlayerId").empty();
                    $("#PlayerId").append(response);
                }
            })
        })
    })
</script>